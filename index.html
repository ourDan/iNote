<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
    <link href="myCss.css" type="text/css" rel="stylesheet">
    <meta name="viewport" content="">
    <script type="text/javascript" src="scripts/util.js"></script>
     
<script>
     (function(){
         // 先来搞定 我们的web在什么 平台上 跑着
         var UA = navigator.userAgent;
         
         var isiPad = UA.match(/(ipad)/i);  
         var isiPhone = UA.match(/(iphone\sos)\s(\d\_\d+)/i); // ["iPhone OS 8_0", "iPhone OS", "8_0"]
         var isAndroid = UA.match(/(android)\s(\d+\.\d)/i);  //如果是的话 ["Andriod"，"Andriod","4.2/*就是版本号啦*/"]
         // android = ua.match(/(Android);?[\s\/]+([\d.]+)?/)
         var iswindowPhone = UA.match(/(windows\s\phone)\s(\d\.\d)/i); //["Windows Phone 8.0", "Windows Phone", "8.0"]
         var isMobile = UA.match(/mobile/i)

         // isMobile  ipad上面也是isMobile，所以说，这个就实在是糟糕 isMobile || !isiPad  == (isMobile.length != 0 && isiPad == null) 
         // 这里先挖个坑 对于 不同的正则的写法 ，感觉在正则上面的技巧手法太弱爆
         if (isMobile.length != 0 && isiPad == null){ // 那就进入了适配  首先得匹配 mobile 其次 还不能 匹配出ipad
           
             reFreshFunc();
             // 飞分为两种适配方法 
             // 直接拉伸方法 ，假设采用
             var needChangeCss = document.getElementsByTagName("link")[0];
            // console.log(needChangeCss);
             needChangeCss.setAttribute("href", "ff.css");
             //console.log(needChangeCss);


             window.onload = function(){
               
                var newJs = document.createElement("script");
                            newJs.setAttribute("src", "scripts/require.js");
                            newJs.setAttribute("data-main","scripts/mainMobile.js")
                            console.log(newJs);
                            console.log(document.html)
                            document.getElementsByTagName("body")[0].appendChild(newJs)
             }
            

         }else{
            window.onload = function(){
                var newJs = document.createElement("script");
                            newJs.setAttribute("src", "scripts/require.js");
                            newJs.setAttribute("data-main","scripts/mainPc.js")

                            //console.log(newJs);
                            //console.log(document.html)
                            document.getElementsByTagName("body")[0].appendChild(newJs)

            }
            // 那就是加载这个 <script data-main="scripts/mainPc.js" src="scripts/require.js">
           
         }

         function reFreshFunc(){  // 利用rem来刷新的
             var dpr = window.devicePixelRatio;
             //console.log(dpr)
            // 这段是 确定了 viewport 的 meta标签 
             var metaList = document.getElementsByTagName("meta"),
                 meta;
             //console.log(metaList.length);  
             //console.log(metaList[1])  
             for(var i=0,len=metaList.length;i<len;i++){
                //console.log(metaList[i])
                //console.log(metaList[i].getAttribute("name"))
                //console.log(metaList[i].getAttribute("name").toLowerCase())
                 if ( !metaList[i] && metaList[i].getAttribute("name").toLowerCase() == "viewport"){
                     meta =metaList[i]; 
                 }
                 else{
                     meta = document.createElement("meta");
                     meta.setAttribute("name","viewport");
                     document.getElementsByTagName("head")[0].appendChild(meta);
                 }
             }
             // 
             var contentValue = "initial-scale="+1/dpr+",maximum-scale="+1/dpr+",user-scalable=no"
             meta.setAttribute("content",contentValue);
             // reset font-size;
             console.log(meta)
             var baseWidth = window.screen.width;
             var newRem = ((baseWidth*dpr)/ 320)*16;
             document.getElementsByTagName("html")[0].style.fontSize = newRem +"px";

             // 以上 能跑 绝大多数的 主流 平台 如iphone，三星，HTC  
             // 对于 那些 比较 诡异 的 ，以及 某些 特殊情况的处理还不够 

         }  
    })()
</script>

</head>

<body >

<div class="good">
    <header>
        <p class="iNote"> iNote<span>  ... 个人任务管理中心</span>  </p>
    </header>
    <!--  <?php echo htmlentities($var, ENT_QUOTES, 'utf-8') ?>      这句话究竟是他妈的什么意思？待会儿看看会不会出出错-->
    <!-- in a time treCode-->
    <div id="content">
        <div class="main-warp" id="contentList">

            <div id="rightDefaultTask" class="showtask" title="this is test which is not defaault Choosed"  name="not">

                <div class="taskName" title="this is test which is not defaault Choosed">
                    <span>任务名称</span>
                    this is test which is not defaault Choosed
                </div>

                <div class="taskTime" title=" this is test which is not defaault Choosed">
                    <span>任务时间</span>
                    this is test which is not defaault Choosed
                </div>

                <div class="taskContent" title=" this is test which is not defaault Choosed">
                    <span>任务内容</span>
                    this is test which is not defaault Choosed
                </div>

            </div>
            <div id="createTask">
                <form class="form">

                    <div class="name">
                        <span>填写标题</span>
                        <input id="name">
                    </div>

                    <div class="date">
                        <span>填写日期</span>
                        <textarea id="date"></textarea>
                    </div>

                    <div class="task">
                        <span>填写内容描述</span>
                        <textarea id="nnn"></textarea>
                    </div>

                </form>

                <button id="sureToAddContent">确认添加</button>
            </div>
            <div id="editTask" >

                <form class="form">

                    <div class="name" >
                        <span>修改标题</span>
                        <input id="editName">
                    </div>

                    <div class="date">
                        <span>修改日期</span>
                        <textarea id="editDate"></textarea>
                    </div>

                    <div class="task">
                        <span>修改内容描述</span>
                        <textarea id="editNnn"></textarea>
                    </div>


                </form>

                <button id="sureEdit">确认xiugai</button>
            </div>

            <div id="btn">
                <span class="editBtn">编辑</span>
            </div>
            <div id="okBtn">
                <span class="okBtn">完成</span>
            </div>
        </div>
    </div>

    <div id="LeftClassList">

        <p id="ClassListName">所有任务</p>

        <div class="classListAll"  id="classListFather">

            <div class="ClassTask" title="1" id="defaultTask">
                <p class="className">默认Task</p>
                <ul class="taskList">
                    <li id="defaulttask" class="HeighLight"> 默认TaskList <span class="deleteBtnLeft"> 删除 </span> </li>
                    <li class="LiModel" title=""> <span class="deleteBtnLeft"> 删除 </span> </li>
                </ul>
            </div>

            <div class="ClassTask" title="0" id="defaultTaskModel">
                <p class="className"></p>

                <ul class="taskList">
                    <li class="LiModel" title="" id=""><span class="deleteBtnLeft">删除</span></li>
                </ul>
            </div>

        </div>

        <div class="Add" id="addClassBtn">
            <div class="BtnPlaceholder"></div>
            <p>添加分类  <img src="./images/add.png" class="ImgAdd"></p>
        </div>
    </div>

    <div id="CenterTaskList">
        <div id="screened">
            <div id="chooseLeft" class="clicked" name="all" ><p name="all">全部</p></div>
            <div id="chooseCenter" class="" name="not"><p name="not">未完成</p ></div>
            <div id="chooseRight"  class="" name="complete"><p  name="complete">完成</p ></div>
        </div>

        <div id="taskListFather" class="showSomethingAbout" >

            <div class="showEd" title="defaulttask" >
                <span>this s defaultTaskList</span>
                <ul class="fxxkFather">
                    <li class="choosed" title="this is test which is defaultChoosed"   name="not">this is test which is defaultChoosed</li>
                </ul>
            </div>

            <div class="notShowEd" id="taskListModel" title="">
                <span></span>
                <ul class="fxxkFather"  >
                </ul>
            </div>
        </div>

        <div id="addTaskBtn" class="Add">
            <div class="BtnPlaceholder"></div>
            <p>添加任务  <img src="./images/add.png" class="ImgAdd"></p>
        </div>

    </div>

    <div id="saveBtn">
        <p> click to save</p>
    </div>
</div>

</body>
</html>